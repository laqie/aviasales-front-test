module.exports=function(e){var t={};function r(s){if(t[s])return t[s].exports;var n=t[s]={i:s,l:!1,exports:{}};return e[s].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=t,r.d=function(e,t,s){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(s,n,function(t){return e[t]}.bind(null,n));return s},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=6)}([function(e,t){e.exports=require("rxjs")},function(e,t){e.exports=require("rxjs/operators")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableEvent=void 0;const s=r(0);class n extends s.Observable{constructor(e=""){super(),this.name=e,this.trigger=e=>{this.subject$.next(e)},this.subject$=new s.Subject,this.source=this.subject$}getName(){return this.name}}t.ObservableEvent=n,t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableStore=void 0;const s=r(0),n=r(1);class i extends s.Observable{constructor(e){super(),this.initialValue=e,this.subject$=new s.BehaviorSubject(e),this.subscriptions=new WeakMap,this.resetSubscriptions=new WeakMap,this.source=this.subject$}get asObservable(){return this.subject$.asObservable}on(e,t){var r;e=Array.isArray(e)?e:[e];for(const s of e){this.subscriptions.has(s)&&(null===(r=this.subscriptions.get(s))||void 0===r||r.unsubscribe());const e=s.pipe(n.map(e=>t(this.subject$.getValue(),e)),n.catchError((e,t)=>(console.error(e),t))).subscribe(this.subject$);this.subscriptions.set(s,e)}return this}off(e){var t,r;e=Array.isArray(e)?e:[e];for(const s of e)this.subscriptions.has(s)&&(null===(t=this.subscriptions.get(s))||void 0===t||t.unsubscribe(),this.subscriptions.delete(s)),this.resetSubscriptions.has(s)&&(null===(r=this.resetSubscriptions.get(s))||void 0===r||r.unsubscribe(),this.resetSubscriptions.delete(s));return this}reset(e){var t;e=Array.isArray(e)?e:[e];for(const r of e){this.resetSubscriptions.has(r)&&(null===(t=this.resetSubscriptions.get(r))||void 0===t||t.unsubscribe());const e=r.pipe(n.mapTo(this.initialValue)).subscribe(this.subject$);this.resetSubscriptions.set(r,e)}return this}}t.ObservableStore=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createApi=void 0;const s=r(2);t.createApi=function(e,t){const r={};for(const[n,i]of Object.entries(t)){const t=new s.ObservableEvent;e.on(t,i),r[n]=t.trigger.bind(t)}return r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Strategy=void 0,function(e){e.Merge="merge",e.Concat="concat",e.Switch="switch",e.Exhaust="exhaust"}(t.Strategy||(t.Strategy={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Trigger=t.Strategy=t.Store=t.Event=t.EffectHandler=t.Handler=t.restore=t.createApi=t.ObservableStore=t.ObservableEffect=t.ObservableEvent=t.filterWith=t.sampleWith=t.always=void 0;var s=r(7);Object.defineProperty(t,"always",{enumerable:!0,get:function(){return s.always}});var n=r(8);Object.defineProperty(t,"sampleWith",{enumerable:!0,get:function(){return n.sampleWith}});var i=r(9);Object.defineProperty(t,"filterWith",{enumerable:!0,get:function(){return i.filterWith}});var c=r(2);Object.defineProperty(t,"ObservableEvent",{enumerable:!0,get:function(){return c.ObservableEvent}});var a=r(10);Object.defineProperty(t,"ObservableEffect",{enumerable:!0,get:function(){return a.ObservableEffect}});var o=r(3);Object.defineProperty(t,"ObservableStore",{enumerable:!0,get:function(){return o.ObservableStore}});var u=r(4);Object.defineProperty(t,"createApi",{enumerable:!0,get:function(){return u.createApi}});var b=r(11);Object.defineProperty(t,"restore",{enumerable:!0,get:function(){return b.restore}});var l=r(5);Object.defineProperty(t,"Handler",{enumerable:!0,get:function(){return l.Handler}}),Object.defineProperty(t,"EffectHandler",{enumerable:!0,get:function(){return l.EffectHandler}}),Object.defineProperty(t,"Event",{enumerable:!0,get:function(){return l.Event}}),Object.defineProperty(t,"Store",{enumerable:!0,get:function(){return l.Store}}),Object.defineProperty(t,"Strategy",{enumerable:!0,get:function(){return l.Strategy}}),Object.defineProperty(t,"Trigger",{enumerable:!0,get:function(){return l.Trigger}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.always=void 0;const s=r(0),n=r(1);t.always=function(e){return s.pipe(n.tap({next:e,error:e,complete:e}))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sampleWith=void 0;const s=r(1);t.sampleWith=function(e,t){return r=>r.pipe(s.sample(e),s.withLatestFrom(e,t))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.filterWith=void 0;const s=r(0),n=r(1);t.filterWith=function(e,t=((e,t)=>Boolean(t))){return s.pipe(n.withLatestFrom(e),n.filter(([e,r])=>t(e,r)),n.map(([e])=>e))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.errorHandler=t.ObservableEffect=void 0;const s=r(0),n=r(1),i=r(4),c=r(2),a=r(3),o=r(5);class u extends c.ObservableEvent{constructor(e=u.defaultHandler){super(),this.handler=e,this.resultSubject$=new s.Subject,this.errorSubject$=new s.Subject,this.finallySubject$=new s.Subject,this.activeEffectsStore$=new a.ObservableStore(0),this.activeEffectsApi=i.createApi(this.activeEffectsStore$,{increase:e=>e+1,decrease:e=>e-1}),this.cancelEvent$=new c.ObservableEvent,this.strategy=u.defaultStrategy,this.result$=this.resultSubject$.asObservable(),this.error$=this.errorSubject$.asObservable(),this.finally$=this.finallySubject$.asObservable(),this.activeEffects$=this.activeEffectsStore$.asObservable(),this.pending$=this.activeEffectsStore$.pipe(n.map(e=>e>0),n.distinctUntilChanged()),this.createSubscription()}createSubscription(){this.subscription&&this.subscription.unsubscribe();const e=this.getHandler(),t=this.getMapper();this.subscription=this.pipe(t(t=>s.defer(()=>(this.activeEffectsApi.increase(),e(t))).pipe(n.takeUntil(this.cancelEvent$),n.catchError(e=>(this.errorSubject$.next(e),s.EMPTY)),n.finalize(()=>{this.activeEffectsApi.decrease(),this.finallySubject$.next(t)})))).subscribe({next:e=>this.resultSubject$.next(e)})}getMapper(){switch(this.strategy){case o.Strategy.Merge:return n.mergeMap;case o.Strategy.Concat:return n.concatMap;case o.Strategy.Switch:return n.switchMap;case o.Strategy.Exhaust:return n.exhaustMap;default:throw new Error(`Unknown strategy "${this.strategy}"`)}}setStrategy(e){this.strategy=e,this.createSubscription()}getHandler(){return this.handler}setHandler(e){this.handler=e,this.createSubscription()}get cancel(){return this.cancelEvent$.trigger}}function b(){return s.throwError(new Error("Handler not set"))}t.ObservableEffect=u,u.defaultStrategy=o.Strategy.Merge,u.defaultHandler=b,t.errorHandler=b},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.restore=void 0;const s=r(3);t.restore=function(e,t){const r=new s.ObservableStore(t);return r.on(e,(e,t)=>t),r}}]);